<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>KaliLinuxHelp</title>
    <link href="/2021/06/18/KaliLinuxHelp/"/>
    <url>/2021/06/18/KaliLinuxHelp/</url>
    
    <content type="html"><![CDATA[<h1 id="Kali-Linux-漏洞审计-批量扫描-弱密码撞库-教程"><a href="#Kali-Linux-漏洞审计-批量扫描-弱密码撞库-教程" class="headerlink" title="Kali Linux 漏洞审计 批量扫描 弱密码撞库 教程"></a>Kali Linux 漏洞审计 批量扫描 弱密码撞库 教程</h1><h1 id="nmap端口扫描"><a href="#nmap端口扫描" class="headerlink" title="nmap端口扫描"></a>nmap端口扫描</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p><code>sudo apt-get install nmap</code></p><h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><p><code>nmap [扫描类型] [扫描参数] [hosts 地址与范围]</code></p><h2 id="扫描类型"><a href="#扫描类型" class="headerlink" title="扫描类型"></a>扫描类型</h2><ul><li><p>-sT    TCP connect() 扫描，这是最基本的 TCP 扫描方式。这种扫描很容易被检测到，在目标主机的日志中会记录大批的连接请求以及错误信息。     </p></li><li><p>-sS    TCP 同步扫描 (TCP SYN)，因为不必全部打开一个 TCP 连接，所以这项技术通常称为半开扫描 (half-open)。这项技术最大的好处是，很少有系统能够把这记入系统日志。不过，你需要 root 权限来定制 SYN 数据包。     </p></li><li><p>-sF,-sX,-sN    秘密 FIN 数据包扫描、圣诞树 (Xmas Tree)、空 (Null) 扫描模式。这些扫描方式的理论依据是：关闭的端口需要对你的探测包回应 RST 包，而打开的端口必需忽略有问题的包（参考 RFC 793 第 64 页）。     </p></li><li><p>-sP    ping 扫描，用 ping 方式检查网络上哪些主机正在运行。当主机阻塞 ICMP echo 请求包是 ping 扫描是无效的。nmap 在任何情况下都会进行 ping 扫描，只有目标主机处于运行状态，才会进行后续的扫描。     </p></li><li><p>-sU    UDP 的数据包进行扫描，如果你想知道在某台主机上提供哪些 UDP（用户数据报协议，RFC768) 服务，可以使用此选项。     </p></li><li><p>-sA    ACK 扫描，这项高级的扫描方法通常可以用来穿过防火墙。     -sW    滑动窗口扫描，非常类似于 ACK 的扫描。     </p></li><li><p>-sR    RPC 扫描，和其它不同的端口扫描方法结合使用。     -b    FTP 反弹攻击 (bounce attack)，连接到防火墙后面的一台 FTP 服务器做代理，接着进行端口扫描。    </p></li></ul><h2 id="扫描参数"><a href="#扫描参数" class="headerlink" title="扫描参数"></a>扫描参数</h2><ul><li>-P0    在扫描之前，不 ping 主机。    </li><li>-PT    扫描之前，使用 TCP ping 确定哪些主机正在运行。     </li><li>-PS    对于 root 用户，这个选项让 nmap 使用 SYN 包而不是 ACK 包来对目标主机进行扫描。    </li><li>-PI    设置这个选项，让 nmap 使用真正的 ping(ICMP echo 请求）来扫描目标主机是否正在运行。    </li><li>-PB    这是默认的 ping 扫描选项。它使用 ACK(-PT) 和 ICMP(-PI) 两种扫描类型并行扫描。如果防火墙能够过滤其中一种包，使用这种方法，你就能够穿过防火墙。     </li><li>-O    这个选项激活对 TCP/IP 指纹特征 (fingerprinting) 的扫描，获得远程主机的标志，也就是操作系统类型。     </li><li>-I    打开 nmap 的反向标志扫描功能。    </li><li>-f    使用碎片 IP 数据包发送 SYN、FIN、XMAS、NULL。包增加包过滤、入侵检测系统的难度，使其无法知道你的企图。     </li><li>-v    冗余模式。强烈推荐使用这个选项，它会给出扫描过程中的详细信息。     </li><li>-S  <IP>   在一些情况下，nmap 可能无法确定你的源地址 (nmap 会告诉你）。在这种情况使用这个选项给出你的 IP 地址。    </li><li>-g port    设置扫描的源端口。一些天真的防火墙和包过滤器的规则集允许源端口为 DNS(53) 或者 FTP-DATA(20) 的包通过和实现连接。显然，如果攻击者把源端口修改为 20 或者 53，就可以摧毁防火墙的防护。     </li><li>-oN    把扫描结果重定向到一个可读的文件 logfilename 中。    </li><li>-oS    扫描结果输出到标准输出。    </li><li>–host_timeout    设置扫描一台主机的时间，以毫秒为单位。默认的情况下，没有超时限制。     </li><li>–max_rtt_timeout    设置对每次探测的等待时间，以毫秒为单位。如果超过这个时间限制就重传或者超时。默认值是大约 9000 毫秒。    </li><li>–min_rtt_timeout    设置 nmap 对每次探测至少等待你指定的时间，以毫秒为单位。    </li><li>-M count    置进行 TCP connect() 扫描时，最多使用多少个套接字进行并行的扫描。 </li></ul><h2 id="端口状态"><a href="#端口状态" class="headerlink" title="端口状态"></a>端口状态</h2><ul><li>Open（开放的）意味着目标机器上的应用程序正在该端口监听连接 / 报文。</li><li>filtered（被过滤的） 意味着防火墙，过滤器或者其它网络障碍阻止了该端口被访问，Nmap 无法得知 它是 open（开放的） 还是 closed（关闭的）。  </li><li>closed（关闭的） 端口没有应用程序在它上面监听，但是他们随时可能开放。 </li><li>unfiltered（未被过滤的）当端口对 Nmap 的探测做出响应，但是 Nmap 无法确定它们是关闭还是开放时 open filtered 开放或者被过滤的 closed filtered 关闭或者被过滤的</li></ul><h2 id="扫描实例"><a href="#扫描实例" class="headerlink" title="扫描实例"></a>扫描实例</h2><blockquote><p>阿里云服务器网段大全：<a href="https://blog.csdn.net/nxuu01/article/details/102779652">CSDN博客</a> <a href="https://blog.csdn.net/eagle_min/article/details/82260622">CSDN-eagle_min大佬</a></p><p>腾讯云ip段：<a href="https://blog.csdn.net/eagle_min/article/details/82260611">CSDN-eagle_min大佬</a></p></blockquote><ol><li>用nmap扫描该网段开放的888端口保存在pma.txt文件 格式要求：ip:port<br><code>nmap -vv -n --open -p 888 网段 | awk -F&#39;[ /]&#39; &#39;/Discovered open port/&#123;print $NF&quot;:&quot;$4&#125;&#39; &gt;&gt; pma.txt</code></li></ol><h1 id="Hydra-弱密码破解"><a href="#Hydra-弱密码破解" class="headerlink" title="Hydra 弱密码破解"></a>Hydra 弱密码破解</h1><h2 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h2><p><code>sudo apt-get install hydra</code></p><blockquote><p>Hydra是一款<strong>非常强大的暴力破解工具</strong>，它是由著名的黑客组织THC开发的一款<strong>开源暴力破解工具</strong>。Hydra是一个验证性质的工具，主要目的是：展示安全研究人员从<strong>远程获取一个系统认证权限</strong>。</p></blockquote><h2 id="常见参数"><a href="#常见参数" class="headerlink" title="常见参数"></a>常见参数</h2><ul><li> -R: 继续从上一次进度接着破解</li><li>-S: 大写，采用SSL链接</li><li>-s <PORT>： 小写，可通过这个参数指定非默认端口</li><li>-l <LOGIN>： 指定破解的用户，对特定用户破解</li><li>-L <FILE>： 指定用户名字典</li><li>p <PASS>： 小写，指定密码破解，少用，一般是采用密码字典</li><li>-P <FILE>： 大写，指定密码字典</li><li>-e <ns>： 可选选项，n：空密码试探，s：使用指定用户和密码试探</li><li>-C <FILE>： 使用冒号分割格式，例如“登录名:密码”来代替 -L/-P 参数</li><li>-M <FILE>： 指定目标列表文件一行一条</li><li>o <FILE>： 指定结果输出文件</li><li> -f ： 在使用-M参数以后，找到第一对登录名或者密码的时候中止破解</li><li> -t <TASKS>： 同时运行的线程数，默认为16</li><li> -w <TIME>： 设置最大超时的时间，单位秒，默认是30s</li><li> -v / -V： 显示详细过程</li><li> server： 目标ip</li><li> service： 指定服务名，支持的服务和协议</li><li> OPT： 可选项</li></ul><hr><h2 id="实例分析"><a href="#实例分析" class="headerlink" title="实例分析"></a>实例分析</h2><h3 id="1-破解ssh"><a href="#1-破解ssh" class="headerlink" title="1.破解ssh"></a>1.破解ssh</h3><p><code>hydra -M sship.txt ssh -L user.txt -P passwd.txt -e ns -f -vV -t 4 -o ssh.txt</code></p><blockquote><p>-M 指定目标列表文件 一条一行</p><p>-L 指定用户字典 </p><p>-P 指定密码字典 </p><p>-e ns 空密码试探</p><p>-f 当破解一个成功密码就停止</p><p>-o 把成功的输出到ssh.txt文件 </p><p>-vV 显示详细信息</p></blockquote><h3 id="2-破解3389远程登录"><a href="#2-破解3389远程登录" class="headerlink" title="2.破解3389远程登录"></a>2.破解3389远程登录</h3><p><code>hydra -M rdpip.txt rdp -L user.txt -P passwd.txt -e ns -f -vV -t 16 -o rdp.txt</code></p><h3 id="3-破解MySQL数据库"><a href="#3-破解MySQL数据库" class="headerlink" title="3.破解MySQL数据库"></a>3.破解MySQL数据库</h3><p><code>hydra -M mysqlip.txt rdp -L user.txt -P passwd.txt -e ns -f -vV -t 16 -o mysql.txt</code></p>]]></content>
    
    
    <categories>
      
      <category>技术</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux系统</tag>
      
      <tag>渗透</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MyDepression 抑郁症的心路历程</title>
    <link href="/2021/06/18/MyDepression/"/>
    <url>/2021/06/18/MyDepression/</url>
    
    <content type="html"><![CDATA[<h1 id="记录-抗抑郁"><a href="#记录-抗抑郁" class="headerlink" title="记录 抗抑郁"></a>记录 抗抑郁</h1><span id="more"></span><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/%E5%89%B2%E8%85%95(%E4%BA%8C%E6%AC%A1%E5%85%83).jpg" alt="割腕"></p><h1 id="各抗抑郁药物副作用对照表"><a href="#各抗抑郁药物副作用对照表" class="headerlink" title="各抗抑郁药物副作用对照表"></a>各<code>抗抑郁</code>药物副作用对照表</h1><table><thead><tr><th align="center">药物名称</th><th align="center">治疗症状</th><th align="center">副作用</th></tr></thead><tbody><tr><td align="center"><a href="http://drugs.dxy.cn/search/drug.htm?keyword=%E5%A5%A5%E6%B2%99%E8%A5%BF%E6%B3%AE%E7%89%87">奥沙西泮片</a></td><td align="center">主要用于<strong>短期缓解焦虑、紧张，激动</strong>，也可用于<strong>催眠</strong>，焦虑伴有<strong>精神抑郁</strong>的辅助用药，并能缓解急性酒精戒断症状。肌松作用较其他苯二氮卓药物为强。</td><td align="center"><strong>嗜睡、头昏、乏力</strong>等等。还可能会出现<strong>共济失调、震颤</strong>，罕见的不良反应有皮疹、白细胞减少。另外服用奥沙西泮的个别病人，可能会发生兴奋、多语、睡眠障碍甚至有幻觉（<strong>有成瘾性</strong>）</td></tr><tr><td align="center"><a href="http://drugs.dxy.cn/drug/frSns29YmepepmWKIr0plsplskl7pDyg==">阿立哌唑片</a></td><td align="center">孤独症相关的易激惹症状,适应症为用于治疗<strong>精神分裂</strong>,<strong>患者死亡增加。</strong>用于<strong>双相障碍躁狂发作</strong>患者</td><td align="center"><strong>体重增加</strong>,<strong>胃肠道</strong>不适，如恶心、厌食、腹泻等。亦可出现头痛、不安、无力、<strong>嗜睡</strong>、失眠、头晕或震颤等。</td></tr><tr><td align="center"><a href="http://drugs.dxy.cn/drug/Z69ucgieKbr0Biq7ZRRw5g==">碳酸锂缓释片</a></td><td align="center">主要治疗<strong>躁狂症</strong>，对<strong>躁狂和抑郁</strong>交替发作的<strong>双相情感性精神障碍</strong>有很好的治疗和预防复发作用，对<strong>反复发作的抑郁症</strong>也有预防<strong>发作作用</strong>。也用于治疗<strong>分裂-情感性精神病</strong>。</td><td align="center">因为锂盐的治疗指数低, <strong>治疗量和中毒量较接近</strong>(<del><strong>可用于自杀</strong></del>).有<strong>口干、烦渴、多饮、多尿、便秘、腹泻、恶心、呕吐、上腹痛</strong>。神经系统不良反应有双<strong>手细震颤、萎靡、无力、嗜睡、视物模糊、腱反射亢进</strong>。</td></tr></tbody></table><h1 id="Why-build-this-repository"><a href="#Why-build-this-repository" class="headerlink" title="Why build this repository?"></a>Why build this repository?</h1><blockquote><h2 id="I-can-see-her-whenever-I’m-writing-code-even-though-she-doesn’t-like-me-anymore-我是老添狗-in-Chinese-Speaking"><a href="#I-can-see-her-whenever-I’m-writing-code-even-though-she-doesn’t-like-me-anymore-我是老添狗-in-Chinese-Speaking" class="headerlink" title="I can see her whenever I’m writing code, even though she doesn’t like me anymore. (我是老添狗 in Chinese Speaking)"></a>I can see her whenever I’m writing code, even though she doesn’t like me anymore. (我是老添狗 in Chinese Speaking)</h2><h2 id="The-coding-that-makes-me-happier"><a href="#The-coding-that-makes-me-happier" class="headerlink" title="The coding that makes me happier."></a>The coding that makes me happier.</h2></blockquote><h1 id="MyCuteGirl"><a href="#MyCuteGirl" class="headerlink" title="MyCuteGirl"></a>MyCuteGirl</h1><h2 id="MyCuteGirl-She’s-14-years-old-in-China"><a href="#MyCuteGirl-She’s-14-years-old-in-China" class="headerlink" title="MyCuteGirl ! She’s 14 years old in China."></a>MyCuteGirl ! She’s 14 years old in China.</h2><h1 id="My-story"><a href="#My-story" class="headerlink" title="My story"></a>My story</h1><h2 id="I-was-diagnosed-with-depression-in-my-second-year-of-junior-high-school"><a href="#I-was-diagnosed-with-depression-in-my-second-year-of-junior-high-school" class="headerlink" title="I was diagnosed with depression in my second year of junior high school."></a>I was diagnosed with depression in my second year of junior high school.</h2><h2 id="After-that-I-wasn’t-interested-in-anything"><a href="#After-that-I-wasn’t-interested-in-anything" class="headerlink" title="After that, I wasn’t interested in anything.."></a>After that, I wasn’t interested in anything..</h2><h2 id="And-than-I’ve-been-thinking-all-day-about-how-to-kill-myself"><a href="#And-than-I’ve-been-thinking-all-day-about-how-to-kill-myself" class="headerlink" title="And than,I’ve been thinking all day about how to kill myself."></a>And than,I’ve been thinking all day about how to kill myself.</h2><h2 id="My-parents-took-me-to-a-mental-hospital-to-see-a-doctor-the-doctor-gave-me-a-lot-of-medicine"><a href="#My-parents-took-me-to-a-mental-hospital-to-see-a-doctor-the-doctor-gave-me-a-lot-of-medicine" class="headerlink" title="My parents took me to a mental hospital to see a doctor, the doctor gave me a lot of medicine."></a>My parents took me to a mental hospital to see a doctor, the doctor gave me a lot of medicine.</h2><blockquote><p>比如说: 碳酸锂,西酞普兰,阿米替林, <strong>舍曲林没吃了副作用有点大</strong><br><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/%E8%8D%AF.jpg" alt="xf5vOMnwKP4BJEc"></p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/%E5%8C%BB%E9%99%A2.jpg" alt="Nt8GzPkYI97pBVo"></p><blockquote><p>现在也没去上学了,很难过…..</p><p>好像 <code>重度抑郁症</code> 转 <code>双向情感障碍</code> 了</p></blockquote><h2 id="I-began-to-become-lazy-and-numb"><a href="#I-began-to-become-lazy-and-numb" class="headerlink" title="I began to become lazy and numb."></a>I began to become lazy and numb.</h2><h2 id="I-know-I’m-a-waste-of-money-living-in-this-world…"><a href="#I-know-I’m-a-waste-of-money-living-in-this-world…" class="headerlink" title="I know I’m a waste of money living in this world…"></a>I know I’m a waste of money living in this world…</h2><h1 id="But-it-wasn’t-until-I-met-her…"><a href="#But-it-wasn’t-until-I-met-her…" class="headerlink" title="But it wasn’t until I met her….."></a>But it wasn’t until I met her…..</h1><blockquote><h2 id="She’s-cute-and-I-love-to-pinch-her-face-and-she’s-happy-to-do-it"><a href="#She’s-cute-and-I-love-to-pinch-her-face-and-she’s-happy-to-do-it" class="headerlink" title="She’s cute, and I love to pinch her face, and she’s happy to do it"></a>She’s cute, and I love to pinch her face, and she’s happy to do it</h2></blockquote><h2 id="She-made-me-feel-a-little-happy"><a href="#She-made-me-feel-a-little-happy" class="headerlink" title="She made me feel a little happy."></a>She made me feel a little happy.</h2><h2 id="But-it-won’t-cure-my-depression-either"><a href="#But-it-won’t-cure-my-depression-either" class="headerlink" title="But it won’t cure my depression either."></a>But it won’t cure my depression either.</h2><h2 id="She-was-disappointed-in-me"><a href="#She-was-disappointed-in-me" class="headerlink" title="She was disappointed in me."></a>She was disappointed in me.</h2><h2 id="现在已经没去上学了-很快就要中考了-我也不知道怎么办了-每次抑郁发作都想跳楼"><a href="#现在已经没去上学了-很快就要中考了-我也不知道怎么办了-每次抑郁发作都想跳楼" class="headerlink" title="现在已经没去上学了,很快就要中考了,我也不知道怎么办了.每次抑郁发作都想跳楼."></a>现在已经没去上学了,很快就要中考了,我也不知道怎么办了.每次抑郁发作都想跳楼.</h2><h1 id="This-is-her"><a href="#This-is-her" class="headerlink" title="This is her."></a>This is her.</h1><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/1.jpg" alt="1.jpg"><br><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/2.jpg" alt="2.jpg"><br><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/3.jpg" alt="3.jpg"><br><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/4.jpg" alt="4.jpg"><br><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/5.jpg" alt="5.jpg"></p>]]></content>
    
    
    <categories>
      
      <category>抑郁症</category>
      
    </categories>
    
    
    <tags>
      
      <tag>抑郁症</tag>
      
      <tag>喜欢的人</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>我的 Hexo 博客</title>
    <link href="/2021/06/18/hello-world/"/>
    <url>/2021/06/18/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. <a href="https://www.cnblogs.com/liuxianan/p/build-blog-website-by-hexo-github.html">搭建教程</a></p><span id="more"></span><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></div></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">$ hexo server<br></code></pre></div></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">$ hexo generate<br></code></pre></div></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></div></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    <categories>
      
      <category>技术</category>
      
    </categories>
    
    
    <tags>
      
      <tag>技术</tag>
      
      <tag>Hexo博客</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>😏 树莓派折腾手册（三）——搭建离线下载器 👀</title>
    <link href="/2021/06/18/rpi-2/"/>
    <url>/2021/06/18/rpi-2/</url>
    
    <content type="html"><![CDATA[<h1 id="😏-树莓派折腾手册（三）——搭建离线下载器-👀"><a href="#😏-树莓派折腾手册（三）——搭建离线下载器-👀" class="headerlink" title="😏 树莓派折腾手册（三）——搭建离线下载器 👀"></a>😏 树莓派折腾手册（三）——搭建离线下载器 👀</h1><h2 id="1-挂载硬盘-U盘"><a href="#1-挂载硬盘-U盘" class="headerlink" title="1.挂载硬盘/U盘"></a>1.挂载硬盘/U盘</h2><blockquote><p><strong>注意：开始之前先把存储设备格式化成</strong> <strong>fat32文件系统</strong> </p></blockquote><ul><li><p>树莓派4B Debian10系统插上储存设备后默认自动挂载到  <code>/media</code> 目录我们先卸载U盘：</p><p>查询硬盘状态:   <code>sudo fdisk -l</code> </p><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619153119.png" alt="9XBTemAzD6R8yot"></p></li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo umount /media/pi/PI   #这里不能照抄命令，要根据实际情况更改 <br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash">如果出现 target is busy 的情况，我们要强行结束U盘目录下的进程</span> <br>sudo fuser -mv -k /media/U盘 名字    # 然后再执行umount卸载命令 <br></code></pre></div></td></tr></table></figure><ul><li>编辑<code>/etc/fstab</code>中添加像下面这样的挂载配置： </li></ul><figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk">sudo nano <span class="hljs-regexp">/etc/</span>fstab<br><br><span class="hljs-regexp">/dev/</span>sda1 <span class="hljs-regexp">/home/</span>pi/disk vfat utf8,uid=<span class="hljs-number">1000</span>,gid=<span class="hljs-number">1000</span>,umask=<span class="hljs-number">000</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-comment">#挂载点需要自行更改 sda1要加数字</span><br><br>sudo reboot<br><br>mount <span class="hljs-regexp">/dev/</span>sda1 <span class="hljs-regexp">/home/</span>pi/disk -o utf8,uid=<span class="hljs-number">1000</span>,gid=<span class="hljs-number">1000</span>,umask=<span class="hljs-number">000</span> -t vfat<br></code></pre></div></td></tr></table></figure><ul><li><p>重启 ，不出意外的话开机 应该 会自动挂载，且有写权限，用户是pi：如图挂载至 <code>/home/pi/disk</code> 目录，有<strong>777权限</strong></p><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619153142.png" alt="3ilg9S1UJ2EcHPV"></p></li></ul><h2 id="2-部署Aria2离线下载器"><a href="#2-部署Aria2离线下载器" class="headerlink" title="2.部署Aria2离线下载器"></a>2.部署Aria2离线下载器</h2><ul><li>下载安装<code>Aria2</code>:</li></ul><figure class="highlight routeros"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs routeros">sudo apt-<span class="hljs-builtin-name">get</span> update<br>sudo apt-<span class="hljs-builtin-name">get</span> install aria2<br></code></pre></div></td></tr></table></figure><ul><li><p>安装nginx：</p><blockquote><p>上面已经安装过的<strong>小可爱</strong>可以<strong>跳过</strong></p></blockquote></li></ul><figure class="highlight routeros"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs routeros">sudo apt-<span class="hljs-builtin-name">get</span> install nginx<br></code></pre></div></td></tr></table></figure><ul><li><p>配置Aria2， 创建配置文件： </p><figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk"><span class="hljs-comment">#创建目录 </span><br>sudo mkdir <span class="hljs-regexp">/etc/</span>aria2/ <br><span class="hljs-comment">#创建配置文件 </span><br>sudo touch <span class="hljs-regexp">/etc/</span>aria2/aria2.conf <br><span class="hljs-comment">#创建aria2用户 </span><br>sudo useradd -M -s <span class="hljs-regexp">/usr/</span>sbin/nologin aria2 <br><span class="hljs-comment">#创建session文件，用于保存进度: </span><br>sudo touch <span class="hljs-regexp">/etc/</span>aria2/aria2.session <br><span class="hljs-comment">#修改文件拥有者为aria2： </span><br>sudo chown aria2 <span class="hljs-regexp">/etc/</span>aria2 <span class="hljs-regexp">/etc/</span>aria2/aria2.session<br></code></pre></div></td></tr></table></figure></li><li><p>编辑<code>Aria2配置</code>文件:</p><figure class="highlight routeros"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs routeros"><span class="hljs-comment">#根据需要编辑文件: </span><br>sudo nano /etc/aria2/aria2.conf <br><span class="hljs-comment">#配置实例</span><br><br><span class="hljs-comment">#默认下载位置，需要改这里！！ </span><br><span class="hljs-attribute">dir</span>=/home/pi/disk <br><span class="hljs-comment">#断点续传 </span><br><span class="hljs-attribute">continue</span>=<span class="hljs-literal">true</span> <br><span class="hljs-attribute">min-split-size</span>=10M <br><span class="hljs-attribute">input-file</span>=/etc/aria2/aria2.session <br><span class="hljs-attribute">save-session</span>=/etc/aria2/aria2.session <br><span class="hljs-attribute">enable-rpc</span>=<span class="hljs-literal">true</span> <br><span class="hljs-attribute">rpc-allow-origin-all</span>=<span class="hljs-literal">true</span> <br><span class="hljs-comment">#只让本机访问6800端口，因为下面让nginx代理 </span><br><span class="hljs-attribute">rpc-listen-all</span>=<span class="hljs-literal">false</span> <br><span class="hljs-comment">#rpc秘钥，需要改这里 </span><br><span class="hljs-attribute">rpc-secret</span>=123456 <br>rpc默认端口为6800<br><span class="hljs-comment">#rpc-listen-port=6800 </span><br><span class="hljs-attribute">listen-port</span>=51413  <br><span class="hljs-attribute">enable-dht</span>=<span class="hljs-literal">false</span> <br><span class="hljs-attribute">enable-peer-exchange</span>=<span class="hljs-literal">false</span> <br><span class="hljs-attribute">peer-id-prefix</span>=-TR2770- <br><span class="hljs-attribute">user-agent</span>=Transmission/2.77 <br><span class="hljs-attribute">seed-ratio</span>=0 <br><span class="hljs-attribute">bt-seed-unverified</span>=<span class="hljs-literal">true</span> <br><span class="hljs-attribute">bt-save-metadata</span>=<span class="hljs-literal">true</span><br></code></pre></div></td></tr></table></figure></li><li><p>创建<strong>systemd</strong>文件在 <code>/lib/systemd/system/aria2.service</code> 为如下: </p><figure class="highlight routeros"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs routeros">sudo nano /lib/systemd/system/aria2.service<br><br><span class="hljs-comment">#配置实例 </span><br>[Unit] <br><span class="hljs-attribute">Description</span>=Aria2c download manager <br><span class="hljs-attribute">After</span>=network.target  <br>[Service] <br><span class="hljs-attribute">Type</span>=simple <br><span class="hljs-attribute">User</span>=aria2 <br><span class="hljs-attribute">ExecStart</span>=/usr/bin/aria2c  <span class="hljs-attribute">--conf-path</span>=/etc/aria2/aria2.conf  [Install] <br><span class="hljs-attribute">WantedBy</span>=multi-user.target <br></code></pre></div></td></tr></table></figure></li><li><p>启动<strong>Aria2</strong>:</p><figure class="highlight routeros"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs routeros"><span class="hljs-comment">#启动Aria2 </span><br>sudo systemctl start aria2.service <br><span class="hljs-comment">#可以设置开机启动 </span><br>sudo systemctl <span class="hljs-builtin-name">enable</span> aria2.service <br><span class="hljs-comment">#如果要关闭开机启动 </span><br>sudo systemctl <span class="hljs-builtin-name">disable</span> aria2.service<br></code></pre></div></td></tr></table></figure></li><li><p>配置<strong>nginx+ariaNg</strong>可视化管理页面：</p><blockquote><p>到<a href="https://github.com/mayswind/AriaNg/releases"><strong>AriaNG</strong>开源项目页面</a> 获取最新版版本</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619153158.png" alt="UO7c5EItjBHRsgN"></p><p><strong>把源码克隆到</strong> <code>/website/AriaNg/</code>：</p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo mkdir /website<br>sudo chmod 777 -R /website<br>cd /website<br>mkdir AriaNg<br>cd AriaNg<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash">自己复制最新版链接</span><br>wget https://github.com/mayswind/AriaNg/releases/download/1.1.6/AriaNg-1.1.6.zip<br><span class="hljs-meta">#</span><span class="bash">祖国加速通道</span><br>wget https://gproxy.cn/https://github.com/mayswind/AriaNg/releases/download/1.1.6/AriaNg-1.1.6.zip<br><span class="hljs-meta">#</span><span class="bash">解压</span><br>unzip AriaNg-1.1.6.zip<br>rm AriaNg-1.1.6.zip<br><span class="hljs-meta">#</span><span class="bash">授权</span><br>sudo chmod 777 -R /website<br></code></pre></div></td></tr></table></figure></li></ul><blockquote><p>为了方便使用，我把<strong>AriaNg</strong>和<strong>jsonrpc</strong>都配置在了 <strong>80 端口</strong>，利用nginx的<strong>代理功能</strong>，把本机 6800 端口隐藏,对外<strong>只暴露 80 端口.</strong> </p></blockquote><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash">修改nginx配置文件</span> <br>sudo nano /etc/nginx/sites-enabled/default<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash">添加配置aria2Ng</span> <br>location /aria2 &#123; <br>            alias /website/AriaNg/; <br>            index index.html; <br>    &#125; <br><span class="hljs-meta">#</span><span class="bash">代理jsonrpc</span> <br>location /jsonrpc &#123; <br>       proxy_pass http://localhost:6800/jsonrpc; <br>            proxy_redirect off; <br>            proxy_set_header        X-Real-IP       $remote_addr; <br>            proxy_set_header        X-Forwarded-For     $proxy_add_x_forwarded_for; <br>            proxy_set_header Host $host; <br>            #以下代码使支持WebSocket <br>            proxy_http_version 1.1; <br>            proxy_set_header Upgrade $http_upgrade; <br>            proxy_set_header Connection &quot;upgrade&quot;; <br>&#125; <br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash">最后别忘记重启nginx</span> <br>sudo systemctl restart nginx <br></code></pre></div></td></tr></table></figure><ul><li><p>尝试访问 <a href="http://树莓派ip/aria2">http://树莓派ip/aria2</a> ，<strong>设置参数</strong></p></li><li><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619153219.png" alt="wNbqhBl7KWL6Jcx"></p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619153228.png" alt="2o7a8c3qpFODP4Y"></p>]]></content>
    
    
    <categories>
      
      <category>树莓派</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux系统</tag>
      
      <tag>树莓派</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>😜 树莓派折腾手册 (二)——手动搭建LNMP网站服务器环境 🙏</title>
    <link href="/2021/06/18/rpi-3/"/>
    <url>/2021/06/18/rpi-3/</url>
    
    <content type="html"><![CDATA[<h1 id="😜-树莓派折腾手册-二-——手动搭建LNMP网站服务器环境-🙏"><a href="#😜-树莓派折腾手册-二-——手动搭建LNMP网站服务器环境-🙏" class="headerlink" title="😜 树莓派折腾手册 (二)——手动搭建LNMP网站服务器环境 🙏"></a>😜 树莓派折腾手册 (二)——手动搭建LNMP网站服务器环境 🙏</h1><blockquote><p>前言：这个东西我折腾了很久，试过一键部署脚本: <a href="https://lnmp.org/auto.html">https://lnmp.org/auto</a>但是我想在局域网+frp穿透的外网，访问树莓派的网站，但是只能绑定一个域名，反正用多了就出各种问题，可能我不会用 </p></blockquote><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo apt-get update   #好习惯，安装软件前先更新源列表 <br></code></pre></div></td></tr></table></figure><h2 id="1-安装PHP7-3"><a href="#1-安装PHP7-3" class="headerlink" title="1.安装PHP7.3"></a><strong>1.安装PHP7.3</strong></h2><blockquote><p><strong>这里跳了很多坑，后来查文档才发现Debian 10 buster只能安装PHP7.0以上的版本</strong> </p></blockquote><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo apt install -y -t buster php7.3-fpm php7.3-curl php7.3-gd php7.3-intl php7.3-mbstring php7.3-mysql php7.3-imap php7.3-opcache php7.3-sqlite3 php7.3-xml php7.3-xmlrpc php7.3-zip <br></code></pre></div></td></tr></table></figure><p>通过命令<code>php -v</code>能够看到PHP版本号7.3，说明安装完成:</p><blockquote><p>输出显示配置文件在/etc/php/7.3/cli/php.ini。注意，实际上配置文件有两个，另外一个在/etc/php/7.3/fpm/php.ini。通过命令行调用php时，会使用第一个配置文件；通过fpm调用php（例如nginx）会使用第二个配置文件。  </p></blockquote><p>php-fpm常用管理命令:</p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">开启php-fpm:<br>sudo systemctl start php7.3-fpm <br>关闭php-fpm: <br>sudo systemctl stop php7.3-fpm <br>重启php-fpm: <br>sudo systemctl restart php7.3-fpm <br>编辑php-fpm配置文件:<br>sudo nano /etc/php/7.3/fpm/php.ini <br></code></pre></div></td></tr></table></figure><h2 id="2-安装nginx"><a href="#2-安装nginx" class="headerlink" title="2.安装nginx:"></a><strong>2.安装nginx:</strong></h2><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo apt-get install nginx<br></code></pre></div></td></tr></table></figure><blockquote><p>安装完成后，会自动开启nginx。在浏览器输入树莓派的IP地址，可以看到“Welcome to nginx!”</p></blockquote><p><strong>nginx常用管理命令：</strong> </p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">启动nginx: sudo systemctl start nginx <br>关闭nginx：sudo systemctl stop nginx <br>设置nginx开机启动：sudo systemctl enable nginx <br>重启nginx：sudo systemctl restart nginx <br><span class="hljs-meta">#</span><span class="bash">配置文件的位置：</span> <br>默认的网站根目录：/var/www/html <br>nginx配置文件目录：/etc/nginx/ <br>nginx主配置文件位置：/etc/nginx/nginx.conf <br></code></pre></div></td></tr></table></figure><h2 id="3-配置nginx解析php-关键"><a href="#3-配置nginx解析php-关键" class="headerlink" title="3.配置nginx解析php (关键)"></a>3.配置nginx解析php (关键)</h2><ul><li>编辑配置nginx文件: </li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo nano /etc/nginx/sites-enabled/default <br></code></pre></div></td></tr></table></figure><p>找到<code># pass PHP scripts to FastCGI server</code>后面的 <code>location</code> ，删除注释。修改后如下： </p><blockquote><p>PHP的默认路径转发有问题导致的,因为很多nginx的默认PHP配置文件的写法为 <strong>location ~ .php</strong> 要改成 *<em>location~.<em>.php(/.</em>)</em>$** </p></blockquote><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">index index.php index.html index.htm index.nginx-debian.html; <br>location ~ .*\.php(\/.*)*$ &#123; <br>include snippets/fastcgi-php.conf; <br><span class="hljs-meta">#</span><span class="bash"> </span><br><span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment"># With php-fpm (or other unix sockets):</span></span> <br>    fastcgi_pass unix:/run/php/php7.3-fpm.sock; <br><span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment"># With php-cgi (or other tcp sockets):</span></span> <br><span class="hljs-meta">#</span><span class="bash">fastcgi_pass 127.0.0.1:9000;</span> <br>&#125; <br></code></pre></div></td></tr></table></figure><ul><li>保存后重启nginx： </li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo systemctl restart nginx<br></code></pre></div></td></tr></table></figure><p><strong>重启无报错则修改成功啦:</strong><br><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152804.png"></p><ul><li>在网站根目录创建一个php文件： </li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo nano /var/www/html/index.php <br></code></pre></div></td></tr></table></figure><p>写入以下php代码并保存： </p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">&lt;?php <br>phpinfo(); <br></code></pre></div></td></tr></table></figure><p>在浏览器中输入树莓派的IP地址即可看到phpinfo:<br><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152811.png"></p><h2 id="4-安装mariaDB数据库"><a href="#4-安装mariaDB数据库" class="headerlink" title="4.安装mariaDB数据库"></a><strong>4.安装mariaDB数据库</strong></h2><ul><li>使用以下命令安装<code>mariadb</code>: </li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo apt-get install mariadb-server mariadb-client <br></code></pre></div></td></tr></table></figure><ul><li>执行数据库初始化安装:</li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo mysql_secure_installation <br></code></pre></div></td></tr></table></figure><blockquote><p>根据提示设置数据库<code>root用户密码</code>、<code>是否允许外网访问</code>等，建议用<strong>翻译软件</strong>，一步步翻译。  <code>回车 n Y n Y Y</code>   </p></blockquote><ul><li>尝试用<strong>普通用户pi</strong>登录数据库:<br><code>mysql -u root -p</code><br>输入上一步设置的密码，发现无法登录，错误提示如下:</li></ul><blockquote><p>ERROR 1698 (28000): Access denied for user ‘root’@’localhost’</p></blockquote><p>原因: 数据库默认使用<strong>特权用户root登录</strong>，需要修改为<strong>普通用户使用密码登录</strong><br>-尝试用<strong>特权用户root</strong>登录数据库:</p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo mysql -u root<br><span class="hljs-meta">#</span><span class="bash"> 登入数据库后，依次执行以下SQL：</span> <br>use mysql;<br>update user set plugin=&#x27;mysql_native_password&#x27;;<br>flush privileges;<br>exit;<br></code></pre></div></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152818.png"></p><p>再次使用普通用户pi <code>mysql -u root -p</code> 即可通过密码登录数据库，无需root权限执行:</p><p> <img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152823.png"></p><ul><li>设置<strong>数据库密码</strong><br><strong>依次执行以下SQL：</strong> </li></ul><figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql">use mysql;   <br>UPDATE <span class="hljs-keyword">user</span> <span class="hljs-keyword">SET</span> password<span class="hljs-operator">=</span>password(<span class="hljs-string">&#x27;123456&#x27;</span>) <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">user</span><span class="hljs-operator">=</span><span class="hljs-string">&#x27;root&#x27;</span>;   <br>flush privileges;   <br>exit; <br></code></pre></div></td></tr></table></figure><ul><li>设置<strong>mariaDB数据库</strong> <em><strong>外部网络访问权限</strong></em></li></ul><blockquote><p>根据官方的说法， MariaDB为了<strong>提高安全性</strong>，默认只监听127.0.0.1中的3306端口并且禁止了远程的TCP链接，我们可以通过下面两步来开启<strong>MySQL的远程服务</strong></p></blockquote><ol><li>打开文件<code>sudo nano /etc/mysql/mariadb.conf.d/50-server.cnf</code>，注释掉bind-address项，如下:<br><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152829.png"></li><li>开启了<strong>MySQL监听远程连接</strong>的选项，接下来需要给对应的<strong>MySQL账户分配权限</strong>，允许使用该账户<strong>远程连接</strong>到MySQL:<br>查看<strong>用户账号信息</strong>：</li></ol><figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-keyword">User</span>,host <span class="hljs-keyword">from</span> mysql.user;<br></code></pre></div></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152834.png"><br><strong>root账户</strong>中的host项是<strong>localhost</strong>表示该账号只能进行<strong>本地登录</strong>，我们需要<strong>修改权限</strong>，执行MySQL命令:</p><figure class="highlight sql"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> <span class="hljs-operator">*</span>.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">&#x27;root&#x27;</span>@<span class="hljs-string">&#x27;%&#x27;</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">&#x27;123456&#x27;</span> <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">GRANT</span> OPTION;<br>FLUSH PRIVILEGES;<br>exit;<br></code></pre></div></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152851.png"></p><blockquote><p>这个时候发现相比之前<strong>多了一项</strong>，它的<strong>host项是%<strong>，这个时候说明配置成功了，我们可以用该账号进行</strong>远程访问</strong>了</p></blockquote><ul><li><strong>mariadb配置文件</strong>保存在多个位置:</li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">/etc/mysql/mariadb.cnf <br>/etc/mysql/mariadb.conf.d/ <br>/etc/mysql/conf.d/ <br></code></pre></div></td></tr></table></figure><ul><li><strong>mariadb常用</strong>命令:</li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash">启动mariadb:</span> <br>sudo systemctl start mariadb <br><span class="hljs-meta">#</span><span class="bash">关闭/开启/重启 mariadb：</span><br>systemctl stop/start/restart mariadb <br><span class="hljs-meta">#</span><span class="bash">设置mariadb开机启动：</span><br>sudo systemctl enable mariadb <br></code></pre></div></td></tr></table></figure><ul><li><strong>连接MySQL</strong>数据库命令:</li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">mysql -h主机地址 -u用户名 －p用户密码<br></code></pre></div></td></tr></table></figure><blockquote><p><strong>(注:u与root可以不用加空格，其它也一样)</strong></p></blockquote><h2 id="5-安装phpmyadmin可视化MySQL管理工具"><a href="#5-安装phpmyadmin可视化MySQL管理工具" class="headerlink" title="5.安装phpmyadmin可视化MySQL管理工具"></a>5.安装<code>phpmyadmin</code>可视化MySQL管理工具</h2><blockquote><p><strong>官方网站</strong>:  <a href="https://www.phpmyadmin.net/">phpmyadmin官网</a></p><ul><li>用<strong>wget</strong>下载源码包包到web目录<br>(请自行到官网获取最新下载链接)，截至2020/8/4版本为:<br><strong>phpMyAdmin-5.0.2-all-languages.zip</strong></li></ul></blockquote><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">wget https://gproxy.cn/https://github.com/phpmyadmin/phpmyadmin/archive/RELEASE_5_0_4.zip<br></code></pre></div></td></tr></table></figure><ul><li><strong>解压zip格式</strong>源码包包到<strong>web目录</strong></li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo chmod 777 -R /var/www/html/<br>unzip -d /var/www/html/ ~/phpMyAdmin-5.0.2-all-languages.zip <br></code></pre></div></td></tr></table></figure><blockquote><p>若unzip不受支持请安装<br><strong>sudo apt-get install unzip</strong></p></blockquote><ul><li><strong>重命名文件夹并修改参数</strong></li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">cd /var/www/html/<br>mv phpMyAdmin-5.0.2-all-languages phpmyadmin<br>cd phpmyadmin<br>mv config.sample.inc.php config.inc.php<br>nano config.inc.php<br><span class="hljs-meta">$</span><span class="bash">cfg[<span class="hljs-string">&#x27;AllowArbitraryServer&#x27;</span>] = <span class="hljs-literal">true</span>;</span><br></code></pre></div></td></tr></table></figure><p>编辑<code>config.inc.php</code>文件，修改密钥字段:<br><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152859.png"></p><blockquote><p>修改<strong>blowfish_secret</strong>字段，后面的密钥无仅仅用于加密而已，<strong>尽量足够长</strong>。<strong>当然偷偷插入<del>喜欢的女孩子</del>名字也是可以的哦</strong></p></blockquote><ul><li>把<strong>config.inc.php文件权限修改</strong>为744</li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo chmod 744 config.inc.php<br></code></pre></div></td></tr></table></figure><ul><li>尝试访问 http://你的树莓派ip/phpmyadmin<br><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152752.png"><br><strong>启动高级功能</strong> 会新建一个phpmyadmin数据库<br><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152912.png"><br><strong>安装成功！</strong><br><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152920.png"></li></ul><h2 id="6-搭建多个nginx虚拟主机"><a href="#6-搭建多个nginx虚拟主机" class="headerlink" title="6.搭建多个nginx虚拟主机"></a>6.搭建多个<code>nginx</code>虚拟主机</h2><blockquote><p>有时候我们要在主机的<strong>不同端口</strong>搭建不同用处的<strong>web服务</strong>，这时就需要多个新建多个nginx虚拟主机的啦~</p></blockquote><ul><li><p>打开<code>nginx</code>主配置文件</p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo nano /etc/nginx/nginx.conf<br></code></pre></div></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152925.png" alt="image-20200805160257592"></p></li></ul><p>找到<code>include</code>字段就是每个<strong>虚拟主机配置文件</strong>，为了方便管理，我们在<strong>用户家目录</strong>新建一个<code>nginx-conf</code>存放我们的<strong>nginx虚拟主机文件</strong></p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 在配置文件插入</span><br>include /home/pi/nginx-conf/*;<br></code></pre></div></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152933.png" alt="image-20200805160615360"></p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">mkdir /home/pi/nginx-conf<br>nano /home/pi/nginx-conf/kodbox.conf<br></code></pre></div></td></tr></table></figure><p>写入以下内容:           <em><strong>(贴出一份完整的nginx虚拟主机配置，需要自行修改两个参数)</strong></em></p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 监听端口 两个都要改</span><br>server &#123;<br>listen 88 default_server;<br>listen [::]:88 default_server;<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> SSL configuration</span><br><span class="hljs-meta">#</span><span class="bash"></span><br><span class="bash"><span class="hljs-comment"># listen 443 ssl default_server;</span></span><br><span class="hljs-meta">#</span><span class="bash"> listen [::]:443 ssl default_server;</span><br><span class="hljs-meta">#</span><span class="bash"></span><br><span class="bash"><span class="hljs-comment"># include snippets/snakeoil.conf;</span></span><br><br>root /home/pi/kodbox; #网站根目录位置<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> Add index.php to the list <span class="hljs-keyword">if</span> you are using PHP</span><br>index index.php index.html index.htm index.nginx-debian.html;<br><br>server_name _;<br><br>location / &#123;<br>try_files $uri $uri/ =404;<br>&#125;<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> pass PHP scripts to FastCGI server</span><br><span class="hljs-meta">#</span><span class="bash"></span><br><span class="bash">location ~ .*\.php(\/.*)*$ &#123;</span><br>include snippets/fastcgi-php.conf;<br>fastcgi_pass unix:/run/php/php7.3-fpm.sock;<br>&#125;<br><br>&#125;<br></code></pre></div></td></tr></table></figure><p>重启<code>nginx</code>，愿一切安好:</p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo systemctl restart nginx<br>wget --content-disposition https://packagecloud.io/headmelted/codebuilds/packages/debian/stretch/code-oss_1.45.0-1586135971_arm64.deb/download.deb<br></code></pre></div></td></tr></table></figure><h2 id="7-树莓派PHP调优"><a href="#7-树莓派PHP调优" class="headerlink" title="7. 树莓派PHP调优"></a>7. 树莓派<code>PHP</code>调优</h2><blockquote><h4 id="lnmp默认环境部署完成后，进行调优以应对多并发，复杂任务的情景"><a href="#lnmp默认环境部署完成后，进行调优以应对多并发，复杂任务的情景" class="headerlink" title="lnmp默认环境部署完成后，进行调优以应对多并发，复杂任务的情景"></a><strong>lnmp默认环境</strong>部署完成后，进行调优以应对<strong>多并发，复杂任务的情景</strong></h4></blockquote><ul><li><p>部署<strong>PHP探针</strong>以测试</p><blockquote><p>部署服务器探针推荐X探针，GitHub项目地址：</p><p><a href="https://github.com/kmvan/x-prober">GitHub X刘海探针</a></p></blockquote></li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash">克隆项目到www目录</span><br>cd /var/www/html<br>wget https://github.com/kmvan/x-prober/raw/master/dist/prober.php<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash">删除默认页</span><br>rm index.php<br>mv prober.php index.php<br>sudo chmod 777 index.php<br></code></pre></div></td></tr></table></figure><p><strong>尝试</strong>访问 <code>http://树莓派ip</code> :</p><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152940.png" alt="image-20200807132503823"></p><blockquote><p>可以看到这些参数都是好   <strong>鸡肋的</strong></p></blockquote><ul><li>修改<strong>php.ini</strong> 仔细看好喽~</li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo nano /etc/php/7.3/fpm/php.ini<br></code></pre></div></td></tr></table></figure><p>修改 <em><strong>post 方式提交的数据大小</strong></em>，查找：<code>post_max_size</code> <strong>酌情修改为2000M</strong></p><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152945.png" alt="image-20200807133234597"></p><p>修改 <em><strong>运行超时秒数</strong></em> ，查找：<code>max_execution_time</code> <strong>酌情修改为3600s</strong></p><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152950.png" alt="image-20200807133453326"></p><p>修改 <em><strong>上传文件限制</strong></em> ，查找：<code>upload_max_filesize</code> <strong>酌情修改为2000M</strong></p><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152956.png" alt="image-20200807133741086"></p><p>修改 <em><strong>运行内存限制</strong></em> ，查找：<code>memory_limit</code> <strong>酌情修改为2000M</strong></p><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619153003.png" alt="image-20200807133917750"></p><p>开启 <em><strong>文件上传</strong></em>  ,查找：<code>file_uploads</code> 更改为<code>On</code></p><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619153007.png" alt="image-20200807134107318"></p><ul><li><p>更改完成后重启 <code>nginx+php-fpm</code> </p><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">max_input_time</span> = <span class="hljs-number">3600</span>;<br><span class="hljs-attribute">sudo</span> systemctl restart nginx<br><span class="hljs-attribute">sudo</span> systemctl restart php<span class="hljs-number">7</span>.<span class="hljs-number">3</span>-fpm<br></code></pre></div></td></tr></table></figure></li></ul><p><strong>更改后的探针页面</strong>：</p><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619153012.png" alt="image-20200807134706542"></p><h2 id="8-搭建kodbox云私有云盘"><a href="#8-搭建kodbox云私有云盘" class="headerlink" title="8.搭建kodbox云私有云盘"></a>8.搭建<code>kodbox</code>云私有云盘</h2><blockquote><h1 id="下载安装"><a href="#下载安装" class="headerlink" title="下载安装"></a>下载安装</h1><h4 id="即刻下载，开启私有云盘之旅"><a href="#即刻下载，开启私有云盘之旅" class="headerlink" title="即刻下载，开启私有云盘之旅"></a>即刻下载，开启私有云盘之旅</h4><p><strong>官网:<a href="http://kodcloud.com/download/">可道云官网</a></strong></p></blockquote><ul><li><strong>下载源码</strong></li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">cd ~<br>mkdir kodbox<br>cd kodbox<br>wget http://static.kodcloud.com/update/download/kodbox.1.11.zip<br>unzip kodbox.1.11.zip<br>unzip kodbox.1.11.zip<br>rm kodbox.1.11.zip<br>chmod 777 ~/kodbox<br></code></pre></div></td></tr></table></figure><p>尝试访问 <strong>http://树莓派ip:88</strong> :</p><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619153018.png" alt="image-20200805163537543"></p><blockquote><p>除了PHP版本外其他都可以通过哒~</p></blockquote><ul><li><p>安装系统缓存<code>Redis</code></p><figure class="highlight routeros"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs routeros">sudo apt-<span class="hljs-builtin-name">get</span> install redis php-redis<br></code></pre></div></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619153025.png" alt="image-20200805164115135"></p></li></ul><p><strong>redis服务会自动运行自动添加开机启动项，省心！！！</strong></p><p><strong>编辑</strong><code>sudo nano /etc/php/7.3/fpm/php.ini </code>文件加入：</p><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619153032.png" alt="image-20200807211906533"></p><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">extension</span>=redis.so<br><br><span class="hljs-comment">#重启php-fpm</span><br><span class="hljs-attribute">sudo</span> systemctl restart php<span class="hljs-number">7</span>.<span class="hljs-number">3</span>-fpm <br></code></pre></div></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619153038.png" alt="image-20200805164305612"></p><blockquote><h4 id="数据库选择MySQL，填入自己的密码"><a href="#数据库选择MySQL，填入自己的密码" class="headerlink" title="数据库选择MySQL，填入自己的密码"></a>数据库选择<strong>MySQL</strong>，填入自己的密码</h4><h4 id="系统缓存类型选择Redis"><a href="#系统缓存类型选择Redis" class="headerlink" title="系统缓存类型选择Redis"></a>系统缓存类型选择Redis</h4></blockquote>]]></content>
    
    
    <categories>
      
      <category>树莓派</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux系统</tag>
      
      <tag>树莓派</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/2020/08/07/rpi-1/"/>
    <url>/2020/08/07/rpi-1/</url>
    
    <content type="html"><![CDATA[<figure class="highlight subunit"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs subunit">title: 😃 树莓派折腾手册 (一)——准备系统 😃<br>date: 2021<span class="hljs-string">-06</span><span class="hljs-string">-18</span> 19:37:48<br>categories: 树莓派<br><span class="hljs-keyword">tags:</span> [树莓派, Linux系统]<br>description: 树莓派折腾手册 1<br></code></pre></div></td></tr></table></figure><h1 id="😃-树莓派折腾手册-一-——准备系统-😃"><a href="#😃-树莓派折腾手册-一-——准备系统-😃" class="headerlink" title="😃 树莓派折腾手册 (一)——准备系统 😃"></a>😃 树莓派折腾手册 (一)——准备系统 😃</h1><h2 id="烧录官方Debian-10-buster系统镜像："><a href="#烧录官方Debian-10-buster系统镜像：" class="headerlink" title="烧录官方Debian 10 buster系统镜像："></a>烧录官方<code>Debian 10 buster</code>系统镜像：</h2><p> 先用 <strong>SDFormatter</strong> 格式化一下内存卡叭:<br><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152409.png" alt="hZkDB8qxtRgQz3S"></p><h3 id="1-烧写镜像用到的软件：-Win32-Disk-Image"><a href="#1-烧写镜像用到的软件：-Win32-Disk-Image" class="headerlink" title="1. 烧写镜像用到的软件： Win32 Disk Image"></a>1. 烧写镜像用到的软件： <strong>Win32 Disk Image</strong></h3><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152403.png" alt="Zb6CEHnf17oqO5Q"></p><ul><li>然后在U盘的根目录建立一个空白的 <strong>ssh文件  方便ssh远程连接</strong><br><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/sasw.png" alt="FV5qpvWz7LtsOgi"></li><li>用 <strong>Windows PowerShell</strong> 连接树莓派ssh<br><code>shift+右键</code> 呼出<strong>Windows PowerShell</strong><br><strong>完整连接语法</strong>:</li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">ssh -p 端口号 用户名@主机地址<br></code></pre></div></td></tr></table></figure><blockquote><p>树莓派默认的用户名 <strong>pi</strong> 密码 <strong>raspberry</strong><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152448.png" alt="QLA74lscbwzRWY2"></p></blockquote><ul><li>树莓派扩展TF卡分区:<br>sudo raspi-config –&gt; Advanced options –&gt;Expand Filesystem, 确认重启</li></ul><h3 id="2-启动树莓派HDMI功能"><a href="#2-启动树莓派HDMI功能" class="headerlink" title="2. 启动树莓派HDMI功能 :"></a>2. 启动树莓派HDMI功能 :</h3><ul><li><p>编辑<code>config.txt</code>文件，修改以下参数:<br>sudo nano /boot/config.txt</p><ul><li>把下面#注释符号去掉<br>hdmi_force_hotplug=1  #启用HDMI热插拔功能<br>config_hdmi_boost=4    #启用加强HDMI信号</li></ul><blockquote><p>不出意外的话应该可以接上，但是我的没有声音输出诶<br>注：如果还是不能的话，找到#hdmi_group=1这句话，把前面的#注释符号去掉，把数字改成 2强行指定显示器类型：1是连接老式电视，2代表连接新电视。</p></blockquote></li></ul><h2 id="树莓派-Debian-10-buster-换清华源："><a href="#树莓派-Debian-10-buster-换清华源：" class="headerlink" title="树莓派 Debian 10 buster 换清华源："></a>树莓派 <code>Debian 10 buster</code> 换清华源：</h2><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo nano /etc/apt/sources.list<br>deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib<br>deb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib<br><br>sudo nano /etc/apt/sources.list.d/raspi.list<br>deb http://mirrors.tuna.tsinghua.edu.cn/raspberrypi/ buster main ui<br></code></pre></div></td></tr></table></figure><ul><li>更新源列表: <code>sudo apt-get update</code></li><li>更新软件版本，升级软件包: <code>sudo apt-get upgrade</code></li></ul><h2 id="树莓派rasp-config相关设置"><a href="#树莓派rasp-config相关设置" class="headerlink" title="树莓派rasp-config相关设置"></a>树莓派<code>rasp-config</code>相关设置</h2><h3 id="1-设置pi，root用户密码，并解锁"><a href="#1-设置pi，root用户密码，并解锁" class="headerlink" title="1. 设置pi，root用户密码，并解锁:"></a>1. 设置pi，root用户密码，并解锁:</h3><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash">树莓派修改密码，顺便解锁root用户</span><br>sudo passwd pi<br>sudo passwd root<br><span class="hljs-meta">#</span><span class="bash">解锁root用户</span><br>sudo passwd --unlock root<br><span class="hljs-meta">#</span><span class="bash">如果想在终端直接用root用户登录，编辑</span><br>sudo nano /etc/ssh/sshd_config<br>修改 PermitRootLogin without-password 为 PermitRootLogin yes<br></code></pre></div></td></tr></table></figure><h3 id="2-respi本地化操作"><a href="#2-respi本地化操作" class="headerlink" title="2. respi本地化操作 :"></a>2. <strong>respi本地化</strong>操作 :</h3><ul><li>安装中文字体，提供几个Linux中文字体库:</li></ul> <figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo apt-get install xfonts-wqy<br>sudo apt-get install ttf-wqy-zenhei ttf-wqy-microhei<br></code></pre></div></td></tr></table></figure><ul><li>设置终端中文显示: <code>sudo raspi-config</code>:<br>选择change_locale，在Default locale for the system environment:中选择zh_CN.UTF-8。<br>往下翻一会儿直到找到zh_CN UTF-8把光标移动到前面，然后按下空格键打上*<br><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152513.png" alt="3hQeD8k9L1mgTZc"></li><li>改变键盘布局: <code>sudo dpkg-reconfigure keyboard-configuration</code></li></ul><h3 id="3-设置-vnc桌面-连接"><a href="#3-设置-vnc桌面-连接" class="headerlink" title="3. 设置 vnc桌面 连接"></a>3. 设置 vnc桌面 连接</h3><blockquote><p>注:这里放弃了树莓派自带的 <strong>realvnc</strong> 因为不支持网页 <strong>novnc</strong> 且功能很少，所以用 <strong>Tightvnc</strong> 代替</p></blockquote><ul><li>安装<strong>Tightvncserver</strong>: <code>sudo apt-get install tightvncserver</code></li><li>安装好之后设置一个<strong>VNC密码</strong>:  vncpasswd</li></ul><blockquote><p>注: 先输入操作密码两次，然后会询问是否设置一个查看(view-only)密码，按自己喜欢，一般没必要。</p></blockquote><ul><li>设置<strong>开机自启动</strong> :</li></ul><blockquote><p>设置<strong>开机启动</strong>，需要在 <strong>/etc/init.d/</strong> 中创建一个文件。例如<strong>tightvncserver</strong>:  (启动脚本的名称，有和程序名一致的习惯)</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh">sudo nano /etc/init.d/tightvncserver<br><span class="hljs-comment"># 内容如下:</span><br><span class="hljs-comment">#!/bin/sh</span><br><span class="hljs-comment">### BEGIN INIT INFO</span><br><span class="hljs-comment"># Provides:          tightvncserver</span><br><span class="hljs-comment"># Required-Start:    $local_fs</span><br><span class="hljs-comment"># Required-Stop:     $local_fs</span><br><span class="hljs-comment"># Default-Start:     2 3 4 5</span><br><span class="hljs-comment"># Default-Stop:      0 1 6</span><br><span class="hljs-comment"># Short-Description: Start/stop tightvncserver</span><br><span class="hljs-comment">### END INIT INFO</span><br><br><span class="hljs-comment"># More details see:</span><br><span class="hljs-comment"># http://www.penguintutor.com/linux/tightvnc</span><br><br><span class="hljs-comment">### Customize this entry</span><br><span class="hljs-comment"># Set the USER variable to the name of the user to start tightvncserver under</span><br><span class="hljs-built_in">export</span> USER=<span class="hljs-string">&#x27;pi&#x27;</span><br><span class="hljs-comment">### End customization required</span><br><br><span class="hljs-built_in">eval</span> <span class="hljs-built_in">cd</span> ~<span class="hljs-variable">$USER</span><br><br><span class="hljs-keyword">case</span> <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span> <span class="hljs-keyword">in</span><br>  start)<br>    <span class="hljs-comment"># 启动命令行。此处自定义分辨率、控制台号码或其它参数。</span><br>    su <span class="hljs-variable">$USER</span> -c <span class="hljs-string">&#x27;/usr/bin/tightvncserver -depth 16 -geometry 800x600 :1&#x27;</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Starting TightVNC server for <span class="hljs-variable">$USER</span> &quot;</span><br>    ;;<br>  stop)<br>    <span class="hljs-comment"># 终止命令行。此处控制台号码与启动一致。</span><br>    su <span class="hljs-variable">$USER</span> -c <span class="hljs-string">&#x27;/usr/bin/tightvncserver -kill :1&#x27;</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Tightvncserver stopped&quot;</span><br>    ;;<br>  *)<br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Usage: /etc/init.d/tightvncserver &#123;start|stop&#125;&quot;</span><br>    <span class="hljs-built_in">exit</span> 1<br>    ;;<br><span class="hljs-keyword">esac</span><br><span class="hljs-built_in">exit</span> 0<br></code></pre></div></td></tr></table></figure><p>然后给<strong>tightvncserver文件</strong>加<strong>执行权限</strong>：</p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo chmod 755 /etc/init.d/tightvncserver<br></code></pre></div></td></tr></table></figure><p>并更新<strong>开机启动列表</strong>：</p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo update-rc.d tightvncserver defaults<br></code></pre></div></td></tr></table></figure><p>一些<strong>service命令</strong> :</p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo service tightvncserver restart #重启服务<br>sudo service tightvncserver start/stop #关闭/开启服务<br>sudo service tightvncserver status #查看服务运行状态<br></code></pre></div></td></tr></table></figure><blockquote><p>附:   vnc客户端下载<br><a href="https://www.realvnc.com/en/connect/download/viewer/">vnc官网</a></p></blockquote><p>连接成功惹~:<br><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152521.png"><br><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152531.png"><br>编辑 ./vnc/xstartup 配置文件使其能与windown共享剪贴板</p><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo nano .vnc/xstartup<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash">在后方追加</span><br>vncconfig -nowin -iconic &amp;<br><span class="hljs-meta">#</span><span class="bash">重启Tightvncserver</span><br>sudo service tightvncserver restart<br></code></pre></div></td></tr></table></figure><h3 id="4-部署novnc网页"><a href="#4-部署novnc网页" class="headerlink" title="4.部署novnc网页 :"></a>4.部署<strong>novnc网页</strong> :</h3><blockquote><p>方便在网页上控制树莓派屏幕，但是<strong>不支持realvnc</strong></p></blockquote><ul><li>安装 <strong>git 支持</strong></li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo apt-get install git<br></code></pre></div></td></tr></table></figure><ul><li><strong>克隆</strong> novnc项目:</li></ul><blockquote><p>在中国大陆听说<del>加上 <em><a href="https://gproxy.cn/">https://gproxy.cn</a></em> 就可以加速 <strong>克隆</strong> 速度丫</del> 改口 应换成  <a href="https://github.com.cnpmjs.org/">https://github.com.cnpmjs.org/</a></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">git clone https://github.com/kanaka/noVNC #源地址<br>git clone https://github.com.cnpmjs.org/kanaka/noVNC #加速地址<br></code></pre></div></td></tr></table></figure><ul><li>运行 <strong>novnc</strong> 并设置<strong>开机自启动</strong>:</li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">cd noVNC<br><span class="hljs-meta">#</span><span class="bash"> 初始化可能有点点慢</span><br>./utils/launch.sh --vnc localhost:5901 #监听5901 vnc端口<br></code></pre></div></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152538.png"></p><ul><li>尝试访问: <a href="http://raspiberry:6080/">http://raspiberry:6080</a>  可<br><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152542.png"></li><li>一些<strong>高级设置</strong> :</li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">./utils/websockify --web ./ 8787 localhost:5901  #修改6080默认端口<br>./utils/websockify --web ./ 8787 192.168.1.10:5901 #可以讲localhost改成所有安装了vncserver的IP地址<br></code></pre></div></td></tr></table></figure><p> <strong>连接速度太慢可以安装Python的numpy库解决</strong></p><ul><li>设置<strong>开机启动</strong>：</li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash">编辑开机启动项</span><br>sudo nano /etc/rc.local<br><span class="hljs-meta">#</span><span class="bash">以pi用户运行程序</span><br>su pi -c &quot;/home/pi/noVNC/utils/launch.sh --vnc localhost:5901&quot; &amp;<br></code></pre></div></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152617.png" alt="fEVci5dlNCMaUs4"></p><h3 id="5-安装cockpit-web可视化管理"><a href="#5-安装cockpit-web可视化管理" class="headerlink" title="5.安装cockpit web可视化管理"></a>5.安装<code>cockpit</code> web可视化管理</h3><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo apt-get update<br>sudo apt-get install cockpit<br></code></pre></div></td></tr></table></figure><blockquote><p>安装的依赖有  <strong>一丢丢多</strong></p></blockquote><ul><li>默认是用<code>https</code>访问，需要修改配置文件使其能<code>http</code>访问</li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo nano /etc/cockpit/cockpit.conf #这个文件默认是不存在的需要新建<br><br>[WebService]<br>AllowUnencrypted=true<br>LoginTitle=鲸云pi<br></code></pre></div></td></tr></table></figure><ul><li>配置<strong>开机启动</strong></li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo systemctl enable cockpit.socket<br>sudo systemctl start cockpit.socket<br></code></pre></div></td></tr></table></figure><ul><li><p>页面</p><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152626.png" alt="image-20200805174634421"></p></li></ul><h2 id="Python设置"><a href="#Python设置" class="headerlink" title="Python设置"></a>Python设置</h2><h3 id="概况"><a href="#概况" class="headerlink" title="概况"></a>概况</h3><blockquote><p>树莓派默认安装了两个版本的<strong>Python</strong></p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152632.png"></p><h3 id="树莓派pip换源"><a href="#树莓派pip换源" class="headerlink" title="树莓派pip换源"></a>树莓派pip换源</h3><blockquote><p><strong>pip</strong>更换为<strong>国内源</strong>，可以大大的提高安装成功率和速度。不管你用的是<strong>pip3还是pip，方法都是一样的</strong></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">mkdir ~/.pip<br>nano ~/.pip/pip.conf<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash">写入</span><br>[global]<br>timeout = 5000<br>index-url = https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple<br>[install]<br>use-mirrors = true<br>mirrors = https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple<br></code></pre></div></td></tr></table></figure><ul><li><strong>更新pip版本</strong></li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">python3 -m pip install --upgrade pip<br></code></pre></div></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/AdminWhaleFall/Pic@master/img/20210619152649.png" alt="seVOiSZrBKgE827"></p><ul><li><strong>树莓派指定Python版本安装模块</strong></li></ul><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sudo pip3 install XXX   #Python3版本<br>sudo pip install XXX   #Python2版本<br></code></pre></div></td></tr></table></figure><h2 id="部署zsh"><a href="#部署zsh" class="headerlink" title="部署zsh"></a>部署zsh</h2><figure class="highlight shell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs shell">sh -c &quot;$(wget -O- https://gitee.com/mirrors/oh-my-zsh/raw/master/tools/install.sh)&quot;<br><br>git clone https://github.com.cnpmjs.org/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions<br><br> git clone https://github.com.cnpmjs.org/zsh-users/zsh-syntax-highlighting.git $&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;/plugins/zsh-syntax-highlighting<br> <br> ZSH_DISABLE_COMPFIX=true<br></code></pre></div></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
